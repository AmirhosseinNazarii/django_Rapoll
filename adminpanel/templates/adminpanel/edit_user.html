<!-- adminpanel/templates/adminpanel/edit_user.html -->
<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ویرایش کاربر</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body dir="rtl" style="text-align: right;">
    <div class="container mt-5">
        <h1>ویرایش کاربر: {{ user.username }}</h1>
        <form method="POST" enctype="multipart/form-data">  <!-- اضافه کردن enctype -->
            {% csrf_token %}
            <div class="mb-3">
                <label for="username" class="form-label">نام کاربری</label>
                <input type="text" class="form-control" id="username" name="username" value="{{ user.username }}" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">ایمیل</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" required>
            </div>
            <div class="mb-3">
                <label for="balance" class="form-label">موجودی</label>
                <input type="number" class="form-control" id="balance" name="balance" value="{{ user.balance }}" required>
            </div>
            <div class="mb-3">
                <label for="full_name" class="form-label">نام کامل</label>
                <input type="text" class="form-control" id="full_name" name="full_name" value="{{ user.details.full_name }}" required>
            </div>
            <div class="mb-3">
                <label for="last_name" class="form-label">نام خانوادگی</label>
                <input type="text" class="form-control" id="last_name" name="last_name" value="{{ user.details.last_name }}" required>
            </div>
            <div class="mb-3">
                <label for="national_code" class="form-label">کد ملی</label>
                <input type="text" class="form-control" id="national_code" name="national_code" value="{{ user.details.national_code }}" required>
            </div>
            <div class="mb-3">
                <label for="card_number" class="form-label">شماره کارت</label>
                <input type="text" class="form-control" id="card_number" name="card_number" value="{{ user.details.card_number }}" required>
            </div>
            <div class="mb-3">
                <label for="phone_number" class="form-label">شماره تلفن</label>
                <input type="text" class="form-control" id="phone_number" name="phone_number" value="{{ user.details.phone_number }}" required>
            </div>
            <div class="mb-3">
                <label for="national_card" class="form-label">کارت ملی (بارگذاری مجدد)</label>
                <input type="file" class="form-control" id="national_card" name="national_card">
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">رمز عبور</label>
                <input type="password" class="form-control" id="password" name="password" placeholder="اگر می‌خواهید رمز عبور را تغییر دهید، اینجا وارد کنید">
            </div>
            <div class="mb-3">
                <label for="is_admin" class="form-label">وضعیت ادمین</label>
                <select class="form-select" id="is_admin" name="is_admin" required>
                    <option value="0" {% if not user.is_admin %}selected{% endif %}>کاربر عادی</option>
                    <option value="1" {% if user.is_admin %}selected{% endif %}>ادمین</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="status" class="form-label">وضعیت کاربر</label>
                <select class="form-select" id="status" name="status" required>
                    <option value="0" {% if not user.status %}selected{% endif %}>غیرفعال</option>
                    <option value="1" {% if user.status %}selected{% endif %}>فعال</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">ذخیره تغییرات</button>
            <a href="{% url 'panel1' %}" class="btn btn-secondary">بازگشت</a>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
